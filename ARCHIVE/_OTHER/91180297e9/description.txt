how sync/async inconsistency + setTimeout hack == race condition
