var m = stateMachine();

m.next(); // state 1!
m.next(); // state 2!
m.next(); // state 3!

m.next(); // already done.
m.next(); // already done.