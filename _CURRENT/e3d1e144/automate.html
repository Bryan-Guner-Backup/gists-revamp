<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>automate</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h2 id="lessons">Lessons</h2>
<ol type="1">
<li><a href="#navigate-the-file-system">Navigate the filesystem in bash</a></li>
<li><a href="#view-files-and-folders-in-bash">View files and folders in bash</a></li>
<li><a href="#create-and-delete-files-and-folders">Create and Delete Files and Folders in bash</a></li>
<li><a href="#move-and-copy-files-and-folders-with-bash">Move and Copy Files and Folders with bash</a></li>
<li><a href="#find-files-and-folders-with-find-in-bash">Find Files and Folders with <code>find</code> in bash</a></li>
<li><a href="#search-for-text-with-grep">Search for text with <code>grep</code></a></li>
<li><a href="#make-http-requests-in-bash-with-curl">Make HTTP requests in bash with <code>curl</code></a></li>
<li><a href="#create-and-run-bash-scripts">Create and run bash scripts</a></li>
<li><a href="#store-and-use-values-with-bash-variables">Store and Use Values with bash Variables</a></li>
<li><a href="#understand-and-use-functions-in-bash">Understand and use functions in bash</a></li>
<li><a href="#understand-exit-statuses-in-bash">Understand exit statuses in bash</a></li>
<li><a href="#use-conditional-statements-in-bash">Use Conditional Statements in bash</a></li>
<li><a href="#chain-commands-with-pipes-and-redirect-output-in-bash">Chain Commands with Pipes and Redirect Output in bash</a></li>
</ol>
<h2 id="navigate-the-file-system"><a href="https://egghead.io/lessons/bash-navigate-the-filesystem-in-bash">Navigate the file system</a></h2>
<h4 id="change-bashs-current-working-directory">Change bash’s current working directory</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="bu">cd</span> <span class="op">&lt;</span>file path here<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># to go up a directory from your current directory</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="bu">cd</span> ..</a></code></pre></div>
<h4 id="list-a-directorys-contents">List a directory’s contents</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">ls</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co"># for more details, add -l (long)</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="fu">ls</span> -l</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co"># this will output something like this:</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co"># -rw-r--r--  1 cameronnokes  staff  1237 Jun  2 22:46 index.js</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co"># in order, those columns are:</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#   permissions for you, your group, all</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#   number of links (hardlinks &amp; softlinks)</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#   owner user</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#   owner group</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#   file size</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#   last modified time</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#   file name</span></a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co"># to see hidden files/folders (like .git or .npmignore)</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="fu">ls</span> -a</a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co"># Note, flags can be combined like so</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="fu">ls</span> -la</a></code></pre></div>
<h2 id="view-files-and-folders-in-bash"><a href="https://egghead.io/lessons/bash-view-files-and-folders-in-bash">View files and folders in bash</a></h2>
<h4 id="output-a-file-to-the-screen-stdout">Output a file to the screen (stdout)</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">cat</span> <span class="op">&lt;</span>file name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co"># shows it with line numbers</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="fu">cat</span> -n <span class="op">&lt;</span>file name<span class="op">&gt;</span></a></code></pre></div>
<h4 id="view-a-file-in-bash">View a file in bash</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># view the file without dumping it all onto your screen</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="fu">less</span> <span class="op">&lt;</span>file name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co"># Some useful shortcuts in less</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#   Shift+g   (jump to end)</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#   g         (go back to top)</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#   /         (search)</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#   q         (quit/close)</span></a></code></pre></div>
<h4 id="view-filefolder-in-default-application-associated-with-it">View file/folder in default application associated with it</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="ex">open</span> <span class="op">&lt;</span>file/folder name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># view current directory in Finder</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="ex">open</span> .</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co"># specify an application to use</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="ex">open</span> <span class="op">&lt;</span>file name<span class="op">&gt;</span> -a TextEdit</a></code></pre></div>
<h2 id="create-and-delete-files-and-folders"><a href="https://egghead.io/lessons/bash-create-and-delete-files-and-folders-in-bash">Create and delete files and folders</a></h2>
<h4 id="create-a-file">Create a file</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">touch</span> <span class="op">&lt;</span>file name<span class="op">&gt;</span></a></code></pre></div>
<h4 id="set-or-append-to-a-file">Set or append to a file</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># set the file&#39;s contents</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="bu">echo</span> <span class="st">&#39;hi&#39;</span> <span class="op">&gt;</span> file.txt</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co"># append to file&#39;s contents</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="bu">echo</span> <span class="st">&#39;hi&#39;</span> <span class="op">&gt;&gt;</span> file.txt</a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co"># note that if you pass a file name that doesn&#39;t exist, it&#39;ll get created on the fly</span></a></code></pre></div>
<h4 id="create-a-directory">Create a directory</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">mkdir</span> <span class="op">&lt;</span>folder name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co"># make intermediary directories as needed</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="fu">mkdir</span> -p parent/child/grandchild</a></code></pre></div>
<h4 id="remove-a-file">Remove a file</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Note, this permanently deletes a file</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="fu">rm</span> <span class="op">&lt;</span>file name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co"># Remove a folder and it&#39;s contents, recursively</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="fu">rm</span> -rf <span class="op">&lt;</span>folder name<span class="op">&gt;</span></a></code></pre></div>
<h2 id="move-and-copy-files-and-folders-with-bash"><a href="https://egghead.io/lessons/bash-move-and-copy-files-and-folders-with-bash">Move and Copy Files and Folders with bash</a></h2>
<h4 id="move-a-file">Move a file</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">mv</span> <span class="op">&lt;</span>target<span class="op">&gt;</span> <span class="op">&lt;</span>destination<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co"># for example, to rename a file</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="fu">mv</span> a.js b.js</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co"># move all files in a folder to another folder</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="fu">mv</span> lib/* src</a></code></pre></div>
<h4 id="copy-a-file">Copy a file</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">cp</span> <span class="op">&lt;</span>target<span class="op">&gt;</span> <span class="op">&lt;</span>destination<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co"># copy everything recursively from one folder to another</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="fu">cp</span> -R src/* lib</a></code></pre></div>
<h2 id="find-files-and-folders-with-find-in-bash"><a href="https://egghead.io/lessons/bash-find-files-and-folders-with-find-in-bash">Find Files and Folders with <code>find</code> in bash</a></h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># find all the PNGs in a folder</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="fu">find</span> <span class="op">&lt;</span>path<span class="op">&gt;</span> -name <span class="st">&quot;*.png&quot;</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co"># find all the JPGs (case insensitive) in a folder</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="fu">find</span> <span class="op">&lt;</span>path<span class="op">&gt;</span> -iname <span class="st">&quot;*.jpg&quot;</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co"># find only directories</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="fu">find</span> <span class="op">&lt;</span>path<span class="op">&gt;</span> -type d</a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co"># delete all matching files</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="fu">find</span> <span class="op">&lt;</span>path<span class="op">&gt;</span> -name <span class="st">&quot;*.built.js&quot;</span> -delete</a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co"># execute an arbitrary action on each match</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co"># remember `{}` will be replaced with the file name</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="fu">find</span> <span class="op">&lt;</span>path<span class="op">&gt;</span> -name <span class="st">&quot;*.png&quot;</span> -exec pngquant {} <span class="dt">\;</span></a></code></pre></div>
<h2 id="search-for-text-with-grep"><a href="https://egghead.io/lessons/grep-search-for-text-with-grep">Search for text with <code>grep</code></a></h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># Basic usage</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="fu">grep</span> <span class="op">&lt;</span>pattern<span class="op">&gt;</span> <span class="op">&lt;</span>target file or glob<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co"># Useful flags</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co"># --color     (colorizes matches)</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co"># -n          (show line numbers)</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co"># -C &lt;number&gt; (show N lines above/below match for context)</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co"># -e          (regex search)</span></a></code></pre></div>
<h2 id="make-http-requests-in-bash-with-curl"><a href="https://egghead.io/lessons/http-make-http-requests-in-bash-with-curl">Make HTTP requests in bash with <code>curl</code></a></h2>
<p>The test server is available in the <code>curl-practice-server</code> directory. Run <code>npm install &amp;&amp; npm start</code> to run it.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="ex">curl</span> <span class="op">&lt;</span>url<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co"># Useful flags</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co"># -i    (show response headers only)</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co"># -L    (follow redirects)</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co"># -H    (header flag)</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co"># -X    (set HTTP method)</span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co"># -d    (request body)</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co"># -o    (output to a file)</span></a>
<a class="sourceLine" id="cb14-9" title="9"></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co"># to POST JSON</span></a>
<a class="sourceLine" id="cb14-11" title="11"><span class="co"># (technically you don&#39;t need -X POST because -d will make it POST automatically, but I like to be explicit)</span></a>
<a class="sourceLine" id="cb14-12" title="12"><span class="ex">curl</span> -X POST -H <span class="st">&quot;Content-Type: application/json&quot;</span> -d <span class="st">&#39;{ &quot;title&quot;: &quot;Curling&quot; }&#39;</span> http://localhost:3000/api/posts</a>
<a class="sourceLine" id="cb14-13" title="13"></a>
<a class="sourceLine" id="cb14-14" title="14"><span class="co"># POST a url encoded form</span></a>
<a class="sourceLine" id="cb14-15" title="15"><span class="ex">curl</span> -X POST --data-urlencode title=<span class="st">&quot;Curling again&quot;</span> http://localhost:3000/api/posts</a>
<a class="sourceLine" id="cb14-16" title="16"></a>
<a class="sourceLine" id="cb14-17" title="17"><span class="co"># multiline curl (applies to any bash command)</span></a>
<a class="sourceLine" id="cb14-18" title="18"><span class="ex">curl</span> -i -X PUT \</a>
<a class="sourceLine" id="cb14-19" title="19">-d <span class="st">&#39;{ &quot;title&quot;: &quot;Changed title&quot; }&#39;</span> \</a>
<a class="sourceLine" id="cb14-20" title="20">-H <span class="st">&quot;Content-Type: application/json&quot;</span> \</a>
<a class="sourceLine" id="cb14-21" title="21">http://localhost:3000/api/posts</a>
<a class="sourceLine" id="cb14-22" title="22"></a>
<a class="sourceLine" id="cb14-23" title="23"><span class="co"># pretty print JSON with jsome</span></a>
<a class="sourceLine" id="cb14-24" title="24"><span class="ex">curl</span> https://swapi.co/api/people/1/ <span class="kw">|</span> <span class="ex">jsome</span></a></code></pre></div>
<p>Here’s the <a href="https://www.npmjs.com/package/jsome">jsome</a> package that pretty prints JSON</p>
<h2 id="create-and-run-bash-scripts"><a href="https://egghead.io/lessons/bash-create-and-run-bash-scripts">Create and run bash scripts</a></h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1"><span class="bu">echo</span> <span class="st">&#39;echo Hello World&#39;</span> <span class="op">&gt;</span> script.sh</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="fu">chmod</span> u+x script.sh</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="ex">./script.sh</span></a></code></pre></div>
<p>The <code>init-js.sh</code> script for scaffolding a JS project</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1"><span class="bu">echo</span> <span class="st">&quot;Initializing JS project at </span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="fu">git</span> init</a>
<a class="sourceLine" id="cb16-3" title="3"><span class="ex">npm</span> init -y <span class="co"># create package.json with all the defaults</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="fu">mkdir</span> src</a>
<a class="sourceLine" id="cb16-5" title="5"><span class="fu">touch</span> index.js</a>
<a class="sourceLine" id="cb16-6" title="6"><span class="ex">code</span> .</a></code></pre></div>
<p>One way to add that script to your <code>$PATH</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" title="1"><span class="fu">cp</span> init-js.sh /usr/local/bin/init-js</a></code></pre></div>
<h2 id="store-and-use-values-with-bash-variables"><a href="https://egghead.io/lessons/bash-store-and-use-values-with-bash-variables">Store and Use Values with bash Variables</a></h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1"><span class="co"># no spaces between name, =, and value</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="va">var=</span>123</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="bu">echo</span> <span class="va">$var</span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co"># to make it accessible to all child processes of current shell, export it</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="bu">export</span> <span class="va">var</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="co"># this deletes the variable</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="bu">unset</span> <span class="va">var</span></a></code></pre></div>
<p>To see all environment variables</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" title="1"><span class="fu">env</span></a></code></pre></div>
<p><code>clone-to-temp.sh</code> script:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1"><span class="va">temp=$(</span><span class="fu">mktemp</span> -d<span class="va">)</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="fu">git</span> clone --branch <span class="va">$1</span> <span class="va">$PWD</span> <span class="va">$temp</span></a>
<a class="sourceLine" id="cb20-3" title="3"><span class="bu">echo</span> <span class="st">&quot;branch </span><span class="va">$1</span><span class="st"> cloned to </span><span class="va">$temp</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="co"># run some tasks, tests, etc here</span></a></code></pre></div>
<h2 id="understand-and-use-functions-in-bash"><a href="https://egghead.io/lessons/bash-understand-and-use-functions-in-bash">Understand and use functions in bash</a></h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="fu">greet()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb21-2" title="2">  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st"> world&quot;</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="kw">}</span></a>
<a class="sourceLine" id="cb21-4" title="4"></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="va">greeting=$(</span><span class="ex">greet</span> <span class="st">&quot;howdy&quot;</span><span class="va">)</span></a>
<a class="sourceLine" id="cb21-6" title="6"></a>
<a class="sourceLine" id="cb21-7" title="7"><span class="bu">echo</span> <span class="st">&quot;the greeting is </span><span class="va">$greeting</span><span class="st">&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" title="1"><span class="va">global=</span>123</a>
<a class="sourceLine" id="cb22-2" title="2"></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="fu">test()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb22-4" title="4">  <span class="bu">echo</span> <span class="st">&quot;global = </span><span class="va">$global</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb22-5" title="5">  <span class="bu">local</span> <span class="va">local_var=</span><span class="st">&quot;i&#39;m a local&quot;</span></a>
<a class="sourceLine" id="cb22-6" title="6">  <span class="bu">echo</span> <span class="st">&quot;local_var = </span><span class="va">$local_var</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="kw">}</span></a>
<a class="sourceLine" id="cb22-8" title="8"></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="bu">test</span></a>
<a class="sourceLine" id="cb22-10" title="10"></a>
<a class="sourceLine" id="cb22-11" title="11"><span class="bu">echo</span> <span class="st">&quot;global = </span><span class="va">$global</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb22-12" title="12"><span class="bu">echo</span> <span class="st">&quot;local_var = </span><span class="va">$local_var</span><span class="st">&quot;</span> <span class="co"># will be empty because it&#39;s out of scope</span></a></code></pre></div>
<h2 id="understand-exit-statuses-in-bash"><a href="https://egghead.io/lessons/bash-understand-exit-statuses-in-bash">Understand exit statuses in bash</a></h2>
<p>Get the last run command’s exit status</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="fu">ls</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="co"># will be 0 if it ran successfully, 1 - 255 for an error</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="bu">echo</span> <span class="va">$?</span></a></code></pre></div>
<p>Exit statuses and functions. <code>script.sh</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">ok()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb24-2" title="2">  <span class="bu">return</span> 0</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="kw">}</span></a>
<a class="sourceLine" id="cb24-4" title="4"></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="fu">fail()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb24-6" title="6">  <span class="bu">return</span> 1</a>
<a class="sourceLine" id="cb24-7" title="7"><span class="kw">}</span></a>
<a class="sourceLine" id="cb24-8" title="8"></a>
<a class="sourceLine" id="cb24-9" title="9"><span class="ex">fail</span></a>
<a class="sourceLine" id="cb24-10" title="10"><span class="ex">ok</span></a></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="ex">./script.sh</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="bu">echo</span> <span class="va">$?</span> <span class="co"># exit status is same as the last run function/command</span></a></code></pre></div>
<h2 id="use-conditional-statements-in-bash"><a href="https://egghead.io/lessons/bash-use-conditional-statements-in-bash">Use Conditional Statements in bash</a></h2>
<p>Basic form</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="co"># Some conditional primaries that can be used in the if expression:</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="co">#   =, !=      string (in)equality</span></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="co">#   -eq, -ne   numeric (in)equality</span></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="co">#   -lt, -gt   less/greater than</span></a>
<a class="sourceLine" id="cb26-5" title="5"><span class="co">#   -z         check variable is not set</span></a>
<a class="sourceLine" id="cb26-6" title="6"><span class="co">#   -e         check file/folder exists</span></a>
<a class="sourceLine" id="cb26-7" title="7"></a>
<a class="sourceLine" id="cb26-8" title="8"><span class="kw">if [[</span> <span class="va">$USER</span> <span class="ot">=</span> <span class="st">&#39;cameronnokes&#39;</span><span class="kw"> ]]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb26-9" title="9">  <span class="bu">echo</span> <span class="st">&quot;true&quot;</span></a>
<a class="sourceLine" id="cb26-10" title="10"><span class="kw">else</span></a>
<a class="sourceLine" id="cb26-11" title="11">  <span class="bu">echo</span> <span class="st">&quot;false&quot;</span></a>
<a class="sourceLine" id="cb26-12" title="12"><span class="kw">fi</span></a></code></pre></div>
<p>Conditionals can be used inline in a more ternary-like format</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">[[</span> <span class="va">$USER</span> <span class="ot">=</span> <span class="st">&#39;cameronnokes&#39;</span><span class="kw"> ]]</span> <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">&quot;yes&quot;</span> <span class="kw">||</span> <span class="bu">echo</span> <span class="st">&quot;no&quot;</span></a></code></pre></div>
<p><code>check-status.sh</code> for checking a URL is responding with a 200</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="fu">check_status()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb28-2" title="2">  <span class="bu">local</span> <span class="va">status=$(</span><span class="ex">curl</span> -ILs <span class="va">$1</span> <span class="kw">|</span> <span class="fu">head</span> -n 1 <span class="kw">|</span> <span class="fu">cut</span> -d <span class="st">&#39; &#39;</span> -f 2<span class="va">)</span></a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="kw">if [[</span> <span class="va">$status</span> <span class="ot">-lt</span> 200<span class="kw"> ]]</span> <span class="kw">|| [[</span> <span class="va">$status</span> <span class="ot">-gt</span> 299<span class="kw"> ]]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb28-4" title="4">    <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st"> failed with a </span><span class="va">$status</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb28-5" title="5">    <span class="bu">return</span> 1</a>
<a class="sourceLine" id="cb28-6" title="6">  <span class="kw">else</span></a>
<a class="sourceLine" id="cb28-7" title="7">    <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st"> succeeded with a </span><span class="va">$status</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb28-8" title="8">  <span class="kw">fi</span></a>
<a class="sourceLine" id="cb28-9" title="9"><span class="kw">}</span></a>
<a class="sourceLine" id="cb28-10" title="10"></a>
<a class="sourceLine" id="cb28-11" title="11"><span class="ex">check_status</span> https://example.org</a>
<a class="sourceLine" id="cb28-12" title="12"><span class="ex">check_status</span> https://example.org/404</a></code></pre></div>
<h2 id="chain-commands-with-pipes-and-redirect-output-in-bash"><a href="https://egghead.io/lessons/bash-chain-commands-with-pipes-and-redirect-output-in-bash">Chain Commands with Pipes and Redirect Output in bash</a></h2>
<p>Pipes</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" title="1"><span class="co"># ps ax will list all running processes</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="fu">ps</span> ax <span class="kw">|</span> <span class="fu">grep</span> Chrome <span class="kw">|</span> <span class="fu">less</span></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="co"># get the file size after uglify + gzip</span></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="ex">uglifyjs</span> -c -m -- index.js <span class="kw">|</span> <span class="fu">gzip</span> -9 <span class="kw">|</span> <span class="fu">wc</span> -c</a></code></pre></div>
<p>Redirection</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" title="1"><span class="co"># redirect stdout to a file</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="fu">ls</span> <span class="op">&gt;</span> ls.txt</a>
<a class="sourceLine" id="cb30-3" title="3"><span class="co"># append stdout to a file</span></a>
<a class="sourceLine" id="cb30-4" title="4"><span class="bu">echo</span> <span class="st">&quot;hi&quot;</span> <span class="op">&gt;&gt;</span> ls.txt</a></code></pre></div>
<h1 id="additional-learning-resources">Additional learning resources</h1>
<ul>
<li>You can view a command’s documentation right in bash with <code>man &lt;command name&gt;</code>.</li>
<li><a href="https://www.gnu.org/software/bash/manual/bash.html">Official bash manual</a></li>
<li><a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">TLDP bash programming intro, basic</a></li>
<li><a href="http://www.tldp.org/LDP/abs/html/">TLDP bash programming intro, advanced</a></li>
</ul>
</body>
</html>
