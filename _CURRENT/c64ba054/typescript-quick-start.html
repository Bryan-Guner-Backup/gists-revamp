<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>typescript-quick-start</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p><a href="../index.html" class="navbar__brand"> <img src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo" /> <strong>Redux</strong> </a></p>
<p><a href="../introduction/getting-started.html" class="navbar__item navbar__link">Getting Started</a> <a href="essentials/part-1-overview-concepts.html" class="navbar__item navbar__link">Tutorial</a> <a href="../api/api-reference.html" class="navbar__item navbar__link">API</a> <a href="../faq.html" class="navbar__item navbar__link">FAQ</a> <a href="../style-guide/style-guide.html" class="navbar__item navbar__link">Best Practices</a> <a href="../official/github.com/reduxjs/redux.html" class="navbar__item navbar__link">GitHub</a> <a href="../introduction/getting-started.html#help-and-discussion" class="navbar__item navbar__link">Need help?</a> <a href="../index.html" class="navbar__brand"> <img src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo" /> <strong>Redux</strong> </a></p>
<ul>
<li><a href="../introduction/getting-started.html" class="menu__link">Getting Started</a></li>
<li><a href="essentials/part-1-overview-concepts.html" class="menu__link">Tutorial</a></li>
<li><a href="../api/api-reference.html" class="menu__link">API</a></li>
<li><a href="../faq.html" class="menu__link">FAQ</a></li>
<li><a href="../style-guide/style-guide.html" class="menu__link">Best Practices</a></li>
<li><a href="../official/github.com/reduxjs/redux.html" class="menu__link">GitHub</a></li>
<li><p><a href="../introduction/getting-started.html#help-and-discussion" class="menu__link">Need help?</a></p></li>
<li><a href="#!" class="menu__link menu__link--sublist">Introduction</a>
<ul>
<li><a href="../introduction/getting-started.html" class="menu__link">Getting Started with Redux</a></li>
<li><a href="../introduction/installation.html" class="menu__link">Installation</a></li>
<li><a href="../introduction/core-concepts.html" class="menu__link">Core Concepts</a></li>
<li><a href="../introduction/learning-resources.html" class="menu__link">Learning Resources</a></li>
<li><a href="../introduction/ecosystem.html" class="menu__link">Ecosystem</a></li>
<li><a href="../introduction/examples.html" class="menu__link">Examples</a></li>
</ul></li>
<li><p><a href="#!" class="menu__link menu__link--sublist menu__link--active">Tutorials</a></p>
<ul>
<li><a href="index.html" class="menu__link">Tutorials Index</a></li>
<li><a href="quick-start.html" class="menu__link">Quick Start</a></li>
<li><a href="typescript-quick-start.html" class="menu__link menu__link--active active">TypeScript Quick Start</a></li>
<li><p><a href="#!" class="menu__link menu__link--sublist">Redux Essentials</a></p>
<ul>
<li><a href="essentials/part-1-overview-concepts.html" class="menu__link">Redux Overview and Concepts</a></li>
<li><a href="essentials/part-2-app-structure.html" class="menu__link">Redux App Structure</a></li>
<li><a href="essentials/part-3-data-flow.html" class="menu__link">Basic Redux Data Flow</a></li>
<li><a href="essentials/part-4-using-data.html" class="menu__link">Using Redux Data</a></li>
<li><a href="essentials/part-5-async-logic.html" class="menu__link">Async Logic and Data Fetching</a></li>
<li><p><a href="essentials/part-6-performance-normalization.html" class="menu__link">Performance and Normalizing Data</a></p></li>
<li><a href="fundamentals/part-1-overview.html" class="menu__link">Redux Overview</a></li>
<li><a href="fundamentals/part-2-concepts-data-flow.html" class="menu__link">Redux Concepts and Data Flow</a></li>
<li><a href="fundamentals/part-3-state-actions-reducers.html" class="menu__link">State, Actions, and Reducers</a></li>
<li><a href="fundamentals/part-4-store.html" class="menu__link">Store</a></li>
<li><a href="fundamentals/part-5-ui-react.html" class="menu__link">UI and React</a></li>
<li><a href="fundamentals/part-6-async-logic.html" class="menu__link">Async Logic and Data Fetching</a></li>
<li><a href="fundamentals/part-7-standard-patterns.html" class="menu__link">Standard Redux Patterns</a></li>
<li><p><a href="fundamentals/part-8-modern-redux.html" class="menu__link">Modern Redux with Redux Toolkit</a></p></li>
</ul></li>
<li><a href="../recipes/recipe-index.html" class="menu__link">Recipes: Index</a></li>
<li><a href="../recipes/configuring-your-store.html" class="menu__link">Configuring Your Store</a></li>
<li><a href="../recipes/usage-with-typescript.html" class="menu__link">Usage With TypeScript</a></li>
<li><a href="../recipes/migrating-to-redux.html" class="menu__link">Migrating to Redux</a></li>
<li><a href="../recipes/using-object-spread-operator.html" class="menu__link">Using Object Spread Operator</a></li>
<li><a href="../recipes/reducing-boilerplate.html" class="menu__link">Reducing Boilerplate</a></li>
<li><a href="../recipes/server-rendering.html" class="menu__link">Server Rendering</a></li>
<li><a href="../recipes/writing-tests.html" class="menu__link">Writing Tests</a></li>
<li><a href="../recipes/computing-derived-data.html" class="menu__link">Computing Derived Data</a></li>
<li><a href="../recipes/implementing-undo-history.html" class="menu__link">Implementing Undo History</a></li>
<li><a href="../recipes/isolating-redux-sub-apps.html" class="menu__link">Isolating Redux Sub-Apps</a></li>
<li><a href="../recipes/code-splitting.html" class="menu__link">Code Splitting</a></li>
<li><a href="../recipes/troubleshooting.html" class="menu__link">Troubleshooting</a></li>
<li><a href="#!" class="menu__link menu__link--sublist">Structuring Reducers</a>
<ul>
<li><a href="../recipes/structuring-reducers/structuring-reducers.html" class="menu__link">Structuring Reducers</a></li>
<li><a href="../recipes/structuring-reducers/prerequisite-concepts.html" class="menu__link">Prerequisite Concepts</a></li>
<li><a href="../recipes/structuring-reducers/basic-reducer-structure.html" class="menu__link">Basic Reducer Structure</a></li>
<li><a href="../recipes/structuring-reducers/splitting-reducer-logic.html" class="menu__link">Splitting Reducer Logic</a></li>
<li><a href="../recipes/structuring-reducers/refactoring-reducer-example.html" class="menu__link">Refactoring Reducers Example</a></li>
<li><a href="../recipes/structuring-reducers/using-combinereducers.html" class="menu__link">Using combineReducers</a></li>
<li><a href="../recipes/structuring-reducers/beyond-combinereducers.html" class="menu__link">Beyond combineReducers</a></li>
<li><a href="../recipes/structuring-reducers/normalizing-state-shape.html" class="menu__link">Normalizing State Shape</a></li>
<li><a href="../recipes/structuring-reducers/updating-normalized-data.html" class="menu__link">Updating Normalized Data</a></li>
<li><a href="../recipes/structuring-reducers/reusing-reducer-logic.html" class="menu__link">Reusing Reducer Logic</a></li>
<li><a href="../recipes/structuring-reducers/immutable-update-patterns.html" class="menu__link">Immutable Update Patterns</a></li>
<li><a href="../recipes/structuring-reducers/initializing-state.html" class="menu__link">Initializing State</a></li>
</ul></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Understanding Redux</a>
<ul>
<li><a href="#!" class="menu__link menu__link--sublist">Thinking in Redux</a>
<ul>
<li><a href="../understanding/thinking-in-redux/motivation.html" class="menu__link">Motivation</a></li>
<li><a href="../understanding/thinking-in-redux/three-principles.html" class="menu__link">Three Principles</a></li>
<li><a href="../understanding/thinking-in-redux/glossary.html" class="menu__link">Glossary</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">History and Design</a>
<ul>
<li><a href="../understanding/history-and-design/prior-art.html" class="menu__link">Prior Art</a></li>
<li><a href="../understanding/history-and-design/middleware.html" class="menu__link">Middleware</a></li>
</ul></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">FAQ</a>
<ul>
<li><a href="../faq.html" class="menu__link">FAQ Index</a></li>
<li><a href="../faq/general.html" class="menu__link">General</a></li>
<li><a href="../faq/reducers.html" class="menu__link">Reducers</a></li>
<li><a href="../faq/organizing-state.html" class="menu__link">Organizing State</a></li>
<li><a href="../faq/store-setup.html" class="menu__link">Store Setup</a></li>
<li><a href="../faq/actions.html" class="menu__link">Actions</a></li>
<li><a href="../faq/immutable-data.html" class="menu__link">Immutable Data</a></li>
<li><a href="../faq/code-structure.html" class="menu__link">Code Structure</a></li>
<li><a href="../faq/performance.html" class="menu__link">Performance</a></li>
<li><a href="../faq/design-decisions.html" class="menu__link">Design Decisions</a></li>
<li><a href="../faq/react-redux.html" class="menu__link">React Redux</a></li>
<li><a href="../faq/miscellaneous.html" class="menu__link">Miscellaneous</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Style Guide</a>
<ul>
<li><a href="../style-guide/style-guide.html" class="menu__link">Style Guide: Best Practices</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">API Reference</a>
<ul>
<li><a href="../api/api-reference.html" class="menu__link">API Reference</a></li>
<li><a href="../api/createstore.html" class="menu__link">createStore</a></li>
<li><a href="../api/store.html" class="menu__link">Store</a></li>
<li><a href="../api/combinereducers.html" class="menu__link">combineReducers</a></li>
<li><a href="../api/applymiddleware.html" class="menu__link">applyMiddleware</a></li>
<li><a href="../api/bindactioncreators.html" class="menu__link">bindActionCreators</a></li>
<li><a href="../api/compose.html" class="menu__link">compose</a></li>
</ul></li>
<li><a href="#!" class="menu__link menu__link--sublist">Redux Toolkit</a>
<ul>
<li><a href="../redux-toolkit/overview.html" class="menu__link">Redux Toolkit: Overview</a></li>
</ul></li>
</ul>
<h1 id="section"><span id="redux-toolkit-typescript-quick-start" class="anchor enhancedAnchor_2LWZ"></h1>
<p></span>Redux Toolkit TypeScript Quick Start<a href="#redux-toolkit-typescript-quick-start" class="hash-link" title="Direct link to heading">#</a></p>
<h5 id="what-youll-learn"><span class="admonition-icon"> </span>What You’ll Learn</h5>
<ul>
<li>How to set up and use Redux Toolkit and React-Redux with TypeScript</li>
</ul>
<h5 id="prerequisites"><span class="admonition-icon"> </span>Prerequisites</h5>
<ul>
<li>Knowledge of React <a href="../../reactjs.org/docs/hooks-intro.html">Hooks</a></li>
<li>Understanding of <a href="fundamentals/part-2-concepts-data-flow.html">Redux terms and concepts</a></li>
<li>Understanding of TypeScript syntax and concepts</li>
</ul>
<h2 id="section-1"><span id="introduction" class="anchor enhancedAnchor_2LWZ"></h2>
<p></span>Introduction<a href="#introduction" class="hash-link" title="Direct link to heading">#</a></p>
<p>Welcome to the Redux Toolkit TypeScript Quick Start tutorial! <strong>This tutorial will briefly show how to use TypeScript with Redux Toolkit</strong>.</p>
<p>This page focuses on just how to set up the TypeScript aspects . For explanations of what Redux is, how it works, and full examples of how to use Redux Toolkit, <a href="index.html">see the tutorials linked in the “Tutorials Index” page</a>.</p>
<p>Redux Toolkit is already written in TypeScript, so its TS type definitions are built in.</p>
<p><a href="../../react-redux.js.org/index.html">React Redux</a> has its type definitions in a separate <a href="../../www.npmjs.com/package/%40types/react-redux.html"><code>@types/react-redux</code> typedefs package</a> on NPM. In addition to typing the library functions, the types also export some helpers to make it easier to write typesafe interfaces between your Redux store and your React components.</p>
<p>As of React Redux v7.2.3, the <code>react-redux</code> package has a dependency on <code>@types/react-redux</code>, so the type definitions will be automatically installed with the library. Otherwise, you’ll need to manually install them yourself (typically <code>npm install @types/react-redux</code> ).</p>
<p>The <a href="../../github.com/reduxjs/cra-template-redux-typescript.html">Redux+TS template for Create-React-App</a> comes with a working example of these patterns already configured.</p>
<h2 id="section-2"><span id="project-setup" class="anchor enhancedAnchor_2LWZ"></h2>
<p></span>Project Setup<a href="#project-setup" class="hash-link" title="Direct link to heading">#</a></p>
<h3 id="section-3"><span id="define-root-state-and-dispatch-types" class="anchor enhancedAnchor_2LWZ"></h3>
<p></span>Define Root State and Dispatch Types<a href="#define-root-state-and-dispatch-types" class="hash-link" title="Direct link to heading">#</a></p>
<p><a href="../../redux-toolkit.js.org/api/configureStore.html">Redux Toolkit’s <code>configureStore</code> API</a> should not need any additional typings. You will, however, want to extract the <code>RootState</code> type and the <code>Dispatch</code> type so that they can be referenced as needed. Inferring these types from the store itself means that they correctly update as you add more state slices or modify middleware settings.</p>
<p>Since those are types, it’s safe to export them directly from your store setup file such as <code>app/store.ts</code> and import them directly into other files.</p>
<p>app/store.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token imports punctuation" style="color: #f8f8f2">{</span> <span> configureStore </span> <span class="token imports punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘<span class="citation" data-cites="reduxjs/toolkit">@reduxjs/toolkit</span>’</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// …</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> store </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token function" style="color: #e6d874">configureStore</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> reducer</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> posts</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> postsReducer</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> comments</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> commentsReducer</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> users</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> usersReducer</span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Infer the `RootState` and `AppDispatch` types from the store itself</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">type</span> <span class="token plain"> </span> <span class="token class-name maybe-class-name">RootState</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token maybe-class-name">ReturnType</span> <span class="token operator" style="color: #f8f8f2">&lt;</span> <span class="token keyword" style="color: #f92672">typeof</span> <span class="token plain"> store</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">getState</span> <span class="token operator" style="color: #f8f8f2">&gt;</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">type</span> <span class="token plain"> </span> <span class="token class-name maybe-class-name">AppDispatch</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">typeof</span> <span class="token plain"> store</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">dispatch</span>### <span id="define-typed-hooks" class="anchor enhancedAnchor_2LWZ"> </span>Define Typed Hooks<a href="#define-typed-hooks" class="hash-link" title="Direct link to heading">#</a></p>
<p>While it’s possible to import the <code>RootState</code> and <code>AppDispatch</code> types into each component, it’s <strong>better to create typed versions of the <code>useDispatch</code> and <code>useSelector</code> hooks for usage in your application</strong>. . This is important for a couple reasons:</p>
<ul>
<li>For <code>useSelector</code>, it saves you the need to type <code>(state: RootState)</code> every time</li>
<li>For <code>useDispatch</code>, the default <code>Dispatch</code> type does not know about thunks. In order to correctly dispatch thunks, you need to use the specific customized <code>AppDispatch</code> type from the store that includes the thunk middleware types, and use that with <code>useDispatch</code>. Adding a pre-typed <code>useDispatch</code> hook keeps you from forgetting to import <code>AppDispatch</code> where it’s needed.</li>
</ul>
<p>Since these are actual variables, not types, it’s important to define them in a separate file such as <code>app/hooks.ts</code>, not the store setup file. This allows you to import them into any component file that needs to use the hooks, and avoids potential circular import dependency issues.</p>
<p>app/hooks.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token imports punctuation" style="color: #f8f8f2">{</span> <span> </span> <span class="token imports maybe-class-name">TypedUseSelectorHook</span> <span class="token imports punctuation" style="color: #f8f8f2">,</span> <span> useDispatch</span> <span class="token imports punctuation" style="color: #f8f8f2">,</span> <span> useSelector </span> <span class="token imports punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘react-redux’</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">type</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span> <span class="token maybe-class-name">RootState</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span> <span class="token maybe-class-name">AppDispatch</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘./store’</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Use throughout your app instead of plain `useDispatch` and `useSelector`</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> </span> <span class="token function-variable function" style="color: #e6d874">useAppDispatch</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span> <span class="token arrow operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> </span> <span class="token generic-function function" style="color: #e6d874">useDispatch</span> <span class="token generic-function generic class-name operator" style="color: #f8f8f2">&lt;</span> <span class="token generic-function generic class-name maybe-class-name">AppDispatch</span> <span class="token generic-function generic class-name operator" style="color: #f8f8f2">&gt;</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> useAppSelector</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token maybe-class-name">TypedUseSelectorHook</span> <span class="token operator" style="color: #f8f8f2">&lt;</span> <span class="token maybe-class-name">RootState</span> <span class="token operator" style="color: #f8f8f2">&gt;</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> useSelector</span>## <span id="application-usage" class="anchor enhancedAnchor_2LWZ"> </span>Application Usage<a href="#application-usage" class="hash-link" title="Direct link to heading">#</a></p>
<h3 id="section-4"><span id="define-slice-state-and-action-types" class="anchor enhancedAnchor_2LWZ"></h3>
<p></span>Define Slice State and Action Types<a href="#define-slice-state-and-action-types" class="hash-link" title="Direct link to heading">#</a></p>
<p>Each slice file should define a type for its initial state value, so that <code>createSlice</code> can correctly infer the type of <code>state</code> in each case reducer.</p>
<p>All generated actions should be defined using the <code>PayloadAction&lt;T&gt;</code> type from Redux Toolkit, which takes the type of the <code>action.payload</code> field as its generic argument.</p>
<p>You can safely import the <code>RootState</code> type from the store file here. It’s a circular import, but the TypeScript compiler can correctly handle that for types. This may be needed for use cases like writing selector functions.</p>
<p>features/counter/counterSlice.ts</p>
<p><span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token imports punctuation" style="color: #f8f8f2">{</span> <span> createSlice</span> <span class="token imports punctuation" style="color: #f8f8f2">,</span> <span> </span> <span class="token imports maybe-class-name">PayloadAction</span> <span> </span> <span class="token imports punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘<span class="citation" data-cites="reduxjs/toolkit">@reduxjs/toolkit</span>’</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">type</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span> <span class="token maybe-class-name">RootState</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘../../app/store’</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Define a type for the slice state</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">interface</span> <span class="token plain"> </span> <span class="token class-name maybe-class-name">CounterState</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> value</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token builtin" style="color: #a6e22e">number</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Define the initial state using that type</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token class-name keyword" style="color: #f92672">const</span> <span class="token plain"> initialState</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token maybe-class-name">CounterState</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> value</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token number" style="color: #ae81ff">0</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> counterSlice </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token function" style="color: #e6d874">createSlice</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> name</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘counter’</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// `createSlice` will infer the state type from the `initialState` argument</span> <span class="token plain"> </span></p>
<p><span class="token plain"> initialState</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> reducers</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token function-variable function" style="color: #e6d874">increment</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> state </span> <span class="token arrow operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> state</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">value</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">+=</span> <span class="token plain"> </span> <span class="token number" style="color: #ae81ff">1</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token function-variable function" style="color: #e6d874">decrement</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> state </span> <span class="token arrow operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> state</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">value</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">-=</span> <span class="token plain"> </span> <span class="token number" style="color: #ae81ff">1</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Use the PayloadAction type to declare the contents of `action.payload`</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token function-variable function" style="color: #e6d874">incrementByAmount</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token plain">state</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> action</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token maybe-class-name">PayloadAction</span> <span class="token operator" style="color: #f8f8f2">&lt;</span> <span class="token builtin" style="color: #a6e22e">number</span> <span class="token operator" style="color: #f8f8f2">&gt;</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span> <span class="token arrow operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> state</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">value</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">+=</span> <span class="token plain"> action</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">payload</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> increment</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> decrement</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> incrementByAmount </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> counterSlice</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">actions</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// Other code such as selectors can use the imported `RootState` type</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token class-name keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> </span> <span class="token function-variable function" style="color: #e6d874">selectCount</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token plain">state</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token maybe-class-name">RootState</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span> <span class="token arrow operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> state</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">counter</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">value</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">default</span> <span class="token plain"> counterSlice</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token property-access">reducer</span>The generated action creators will be correctly typed to accept a <code>payload</code> argument based on the <code>PayloadAction&lt;T&gt;</code> type you provided for the reducer. For example, <code>incrementByAmount</code> requires a <code>number</code> as its argument.</p>
<p>In some cases, <a href="../../github.com/reduxjs/redux-toolkit/pull/827.html">TypeScript may unnecessarily tighten the type of the initial state</a>. If that happens, you can work around it by casting the initial state using <code>as</code>, instead of declaring the type of the variable:</p>
<p><span class="token comment" style="color: #c6cad2">// Workaround: cast state instead of declaring variable type</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> initialState </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> value</span> <span class="token operator" style="color: #f8f8f2">:</span> <span class="token plain"> </span> <span class="token number" style="color: #ae81ff">0</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">as</span> <span class="token plain"> </span> <span class="token maybe-class-name">CounterState</span>### <span id="use-typed-hooks-in-components" class="anchor enhancedAnchor_2LWZ"> </span>Use Typed Hooks in Components<a href="#use-typed-hooks-in-components" class="hash-link" title="Direct link to heading">#</a></p>
<p>In component files, import the pre-typed hooks instead of the standard hooks from React-Redux.</p>
<p>features/counter/Counter.tsx</p>
<p><span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token maybe-class-name">React</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> useState </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘react’</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> useAppSelector</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> useAppDispatch </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘app/hooks’</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">import</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> decrement</span> <span class="token punctuation" style="color: #f8f8f2">,</span> <span class="token plain"> increment </span> <span class="token punctuation" style="color: #f8f8f2">}</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">from</span> <span class="token plain"> </span> <span class="token string" style="color: #a6e22e">‘./counterSlice’</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">export</span> <span class="token plain"> </span> <span class="token keyword" style="color: #f92672">function</span> <span class="token plain"> </span> <span class="token function maybe-class-name" style="color: #e6d874">Counter</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">{</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// The `state` arg is correctly typed as `RootState` already</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> count </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token function" style="color: #e6d874">useAppSelector</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token parameter">state</span> <span class="token plain"> </span> <span class="token operator" style="color: #f8f8f2">=&gt;</span> <span class="token plain"> state</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token plain">counter</span> <span class="token punctuation" style="color: #f8f8f2">.</span> <span class="token plain">value</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token keyword" style="color: #f92672">const</span> <span class="token plain"> dispatch </span> <span class="token operator" style="color: #f8f8f2">=</span> <span class="token plain"> </span> <span class="token function" style="color: #e6d874">useAppDispatch</span> <span class="token punctuation" style="color: #f8f8f2">(</span> <span class="token punctuation" style="color: #f8f8f2">)</span> <span class="token plain"> </span></p>
<p><span class="token plain" style="display: inline-block"> </span></p>
<p><span class="token plain"> </span> <span class="token comment" style="color: #c6cad2">// omit rendering logic</span> <span class="token plain"> </span></p>
<p><span class="token plain"> </span> <span class="token punctuation" style="color: #f8f8f2">}</span>## <span id="whats-next" class="anchor enhancedAnchor_2LWZ"> </span>What’s Next?<a href="#whats-next" class="hash-link" title="Direct link to heading">#</a></p>
<p>See <a href="../recipes/usage-with-typescript.html">the “Usage with TypeScript” page</a> for extended details on how to use Redux Toolkit’s APIs with TypeScript.</p>
<p><a href="quick-start.html" class="pagination-nav__link"> </a></p>
<p>« Quick Start</p>
<p><a href="essentials/part-1-overview-concepts.html" class="pagination-nav__link"> </a></p>
<p>Next</p>
<p>Redux Essentials, Part 1: Redux Overview and Concepts »</p>
<ul>
<li><a href="#introduction" class="table-of-contents__link">Introduction</a></li>
<li><a href="#project-setup" class="table-of-contents__link">Project Setup</a>
<ul>
<li><a href="#define-root-state-and-dispatch-types" class="table-of-contents__link">Define Root State and Dispatch Types</a></li>
<li><a href="#define-typed-hooks" class="table-of-contents__link">Define Typed Hooks</a></li>
</ul></li>
<li><a href="#application-usage" class="table-of-contents__link">Application Usage</a>
<ul>
<li><a href="#define-slice-state-and-action-types" class="table-of-contents__link">Define Slice State and Action Types</a></li>
<li><a href="#use-typed-hooks-in-components" class="table-of-contents__link">Use Typed Hooks in Components</a></li>
</ul></li>
<li><a href="#whats-next" class="table-of-contents__link">What’s Next?</a></li>
</ul>
<h4 id="docs">Docs</h4>
<ul>
<li><a href="../introduction/getting-started.html" class="footer__link-item">Getting Started</a></li>
<li><a href="essentials/part-1-overview-concepts.html" class="footer__link-item">Tutorial</a></li>
<li><a href="../faq.html" class="footer__link-item">FAQ</a></li>
<li><a href="../api/api-reference.html" class="footer__link-item">API Reference</a></li>
</ul>
<h4 id="community">Community</h4>
<ul>
<li><a href="../official/discord.com/invite/0ZcbPKXt5bZ6au5t.html" class="footer__link-item">Reactiflux Discord</a></li>
<li><a href="../official/stackoverflow.com/questions/tagged/redux.html" class="footer__link-item">Stack Overflow</a></li>
<li><a href="../introduction/getting-started.html#help-and-discussion" class="footer__link-item">Feedback</a></li>
</ul>
<h4 id="more">More</h4>
<ul>
<li><a href="../official/github.com/reduxjs/redux.html" class="footer__link-item">GitHub</a></li>
<li><a href="../../www.netlify.com/index.html"><img src="../../www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" /></a></li>
</ul>
<p><a href="../index.html" class="footerLogoLink_MyFc"> <img src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo" /> <img src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg" alt="Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo" /> </a></p>
</body>
</html>
